[TOC]

# VIM使用技巧

## 保存与退出
`:w`写入文件
`:q`退出vim，存在多个打开文件时只会关闭当前文件，而不是退出vim
`:wq`保存并退出
`:wall`全部窗口写入
`:qall`全部窗口退出

## 使用系统剪贴板
`"+y`复制到系统剪贴板
`"+p`粘贴系统剪贴板中的内容
`"+gp`粘贴并将光标移动到粘贴的内容之后

## 跳转
`gg`跳转到行尾
`行数gg`跳转到指定行
`G`跳转到文件尾

## 复制与删除
`yy`复制当前行
`dd`删除当前行
`数值yy`拷贝光标下指定数值的行数
`数值dd`删除光标下指定数值的行数
`数值1,数值2yy`拷贝数值1到数值2行数之间的内容
`数值1,数值2dd`删除数值1到数值2行数之间的内容
`数值,yy`拷贝数值行数到当前行之间的内容
`数值,dd`删除数值行数到当前行之间的内容

## 空格与制表符
`retab!`替换空格/制表符为配置中的设定(包括行尾的制表符和空格)。

## 设置文件行尾
`:set fileformat=unix`设置行尾为unix(\n)
`:set ff=unix`作用同上
`:set fileformat=dos`设置行尾为windows行尾(\r\n)
`:set ff=dos`作用同上

## 转换文件编码
`:set fileencoding=utf-8`将文件转换为`UTF-8`编码
`:set fenc=utf-8`作用同上

## 缓冲区管理
vim可以在一个会话中打开多个文件，不同的文件显示在不同的缓冲区(buffer)中。
`:o 文件路径`开辟一个新缓冲区打开文件
`:bnext`转到下一个缓冲区
`:bprevious`转到前一个缓冲区
`:bfirst`转到首个缓冲区
`:blast`转到最后的缓冲区
`:bdelete 缓冲区编号`删除指定缓冲区(可使用`:buffers!`找回)，默认删除当前缓冲区
`:bwipe 缓冲区编号`彻底删除指定缓冲区，默认删除当前缓冲区

## 使用vimdiff
vim可以做文件diff：

```sh
vimdiff [file_name1] [file_name2]
```

或者：

```sh
vim -d [file_name1] [file_name2]
```

## 关闭比较高亮
`:nohls`用于在查找结束之后关闭查找匹配内容的高亮

## 操作回滚
`u`取消上次操作
`<C-R>`重复上次操作
`:<C-F>`历史命令记录窗口
